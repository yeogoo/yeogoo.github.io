<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://yeogoo.github.io/en/blog</id>
    <title>My Site Blog</title>
    <updated>2024-01-25T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://yeogoo.github.io/en/blog"/>
    <subtitle>My Site Blog</subtitle>
    <icon>https://yeogoo.github.io/en/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[macOS 터미널에서 VS Code 실행시키기]]></title>
        <id>https://yeogoo.github.io/en/blog/macOS 터미널에서 VS Code 실행시키기</id>
        <link href="https://yeogoo.github.io/en/blog/macOS 터미널에서 VS Code 실행시키기"/>
        <updated>2024-01-25T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[window에서는 cmd창 혹은 wsl환경에서 code . 명령어로 쉽게 Visual Studio Code가 실행되었었던 것 같은데,]]></summary>
        <content type="html"><![CDATA[<p>window에서는 cmd창 혹은 wsl환경에서 <code>code .</code> 명령어로 쉽게 Visual Studio Code가 실행되었었던 것 같은데,<br>
<!-- -->macOS에서는 뭔가 잘 되지 않아서 찾아보니 다음과 같은 간단한 해법을 찾을 수 있었다.</p>
<ol>
<li>
<p><code>Command Palette</code> 를 열고 <code>shell command</code>를 타이핑.<br>
<code>Command Pallette</code>는 <code>command + shift + p</code>로 열 수 있다.</p>
</li>
<li>
<p>"UnInstall 'code' command in PATH" 선택 이후 "Install 'code' command in PATH" 선택</p>
</li>
</ol>
<p>끝.</p>]]></content>
        <author>
            <name>yeogoo</name>
            <uri>https://yeegoo.github.io</uri>
        </author>
        <category label="tips" term="tips"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[kubernetes-the-hard-way (1)]]></title>
        <id>https://yeogoo.github.io/en/blog/kubernetes-the-hard-way-1</id>
        <link href="https://yeogoo.github.io/en/blog/kubernetes-the-hard-way-1"/>
        <updated>2024-01-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[아래와 같이  Google Cloud Platform SDK를 설치한다.]]></summary>
        <content type="html"><![CDATA[<p>아래와 같이  Google Cloud Platform SDK를 설치한다.
자세한 정보는 <a href="https://cloud.google.com/sdk/docs/install?hl=ko" target="_blank" rel="noopener noreferrer">https://cloud.google.com/sdk/docs/install?hl=ko</a> 에서 확인할 수 있다.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wsl1---ubuntu-2204-lts-기준">WSL1 - ubuntu 22.04 LTS 기준<a href="https://yeogoo.github.io/en/blog/kubernetes-the-hard-way-1#wsl1---ubuntu-2204-lts-%EA%B8%B0%EC%A4%80" class="hash-link" aria-label="Direct link to WSL1 - ubuntu 22.04 LTS 기준" title="Direct link to WSL1 - ubuntu 22.04 LTS 기준">​</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get install apt-transport-https ca-certificates gnupg curl sudo</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol>
<li>Google Cloud 공개키 가져오기</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">curl https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo gpg --dearmor -o /usr/share/keyrings/cloud.google.gpg</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="2">
<li>패키지 소스로 gcloud CLI 배포 URI 추가</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">echo "deb [signed-by=/usr/share/keyrings/cloud.google.gpg] https://packages.cloud.google.com/apt cloud-sdk main" | sudo tee -a /etc/apt/sources.list.d/google-cloud-sdk.list</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="3">
<li>gcloud CLI 업데이트 및 설치</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sudo apt-get update &amp;&amp; sudo apt-get install google-cloud-cli</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>설치 후 시작</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="macos-기준">macOS 기준<a href="https://yeogoo.github.io/en/blog/kubernetes-the-hard-way-1#macos-%EA%B8%B0%EC%A4%80" class="hash-link" aria-label="Direct link to macOS 기준" title="Direct link to macOS 기준">​</a></h2>
<p><a href="https://cloud.google.com/sdk/docs/install?hl=ko#mac" target="_blank" rel="noopener noreferrer">https://cloud.google.com/sdk/docs/install?hl=ko#mac</a>
기본적으로 설치 스크립트가 파이썬으로 제공되기 때문에 지원되는 Python 버전(3.8~3.12)이 있는지 확인한다.
기본 설치 스크립트는 CPython의 Python 3.11을 설치하도록 제공.</p>
<ol>
<li>
<p>제공되는 패키지중 하나를 다운로드 한다.
나의 경우 M1을 사용하고 있기 때문에 ARM64를 선택</p>
</li>
<li>
<p>다운로드된 파일을 홈 디렉토리로 옮겨 압축을 푼다.</p>
</li>
<li>
<p>아래의 명령어를 사용하여 스크립트 실행</p>
</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./google-cloud-sdk/install.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ol start="4">
<li>설치 후 시작</li>
</ol>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">gcloud init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>yeogoo</name>
            <uri>https://yeegoo.github.io</uri>
        </author>
        <category label="k8s" term="k8s"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[누적매출 구하기]]></title>
        <id>https://yeogoo.github.io/en/blog/누적매출 구하기</id>
        <link href="https://yeogoo.github.io/en/blog/누적매출 구하기"/>
        <updated>2024-01-05T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[아래와 같은 주문 테이블이 있다고 하자.]]></summary>
        <content type="html"><![CDATA[<p>아래와 같은 주문 테이블이 있다고 하자.</p>
<table><thead><tr><th>주문번호</th><th>고객번호</th><th>주문일자</th><th>주문금액</th></tr></thead><tbody><tr><td>501</td><td>1</td><td>20190501</td><td>20000</td></tr><tr><td>612</td><td>1</td><td>20190523</td><td>5000</td></tr><tr><td>728</td><td>1</td><td>20200311</td><td>25000</td></tr><tr><td>904</td><td>1</td><td>20200715</td><td>10000</td></tr><tr><td>404</td><td>2</td><td>20191208</td><td>7000</td></tr><tr><td>603</td><td>2</td><td>20200428</td><td>6000</td></tr><tr><td>807</td><td>2</td><td>20200527</td><td>17000</td></tr></tbody></table>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">B</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문금액</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> 주문합계금액</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> 주문 A</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 주문 B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> B</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> B</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자 </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위와 같이 인라인뷰를 통해서 누적 매출을 구하는 방법이 있다. 같은 테이블 간에 조인을 수행하는 것을 셀프 조인이라고 하는데,
위의 경우는 2개의 조건을 사용하였다. 단순히 고객번호로만 조인을 하게 되면 같은 고객번호 내에서 양쪽 집합간에 카티션 곱이 만들어지게 된다.
이때 A쪽의 각 주문 데이터 기준으로 주문일자가 작거나 같은 B쪽 주문을 모두 선택하도록 한 것이다. 실행 결과를 보자.</p>
<table><thead><tr><th style="text-align:left">고객번호</th><th style="text-align:left">주문일자</th><th style="text-align:left">주문합계금액</th></tr></thead><tbody><tr><td style="text-align:left">1</td><td style="text-align:left">20190501</td><td style="text-align:left">20000</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">20190523</td><td style="text-align:left">25000</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">20200311</td><td style="text-align:left">50000</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">20200715</td><td style="text-align:left">60000</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">20191208</td><td style="text-align:left">7000</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">20200428</td><td style="text-align:left">13000</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">20200527</td><td style="text-align:left">30000</td></tr></tbody></table>
<p>위의 쿼리만으로는 주문합계금액이 어떤식으로 도출된지 직관적으로 확인하기 어렵다.
A테이블 (기준 테이블)의 주문금액을 추가해서 확인해보도록 하자.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">MIN</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문금액</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> 주문금액</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">B</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문금액</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> 주문합계금액</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> 주문 A</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 주문 B</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> B</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> B</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자 </span><span class="token operator" style="color:#393A34">&lt;=</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">GROUP</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">고객번호</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> A</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">주문일자</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>위 쿼리의 실행결과는 다음과 같다.</p>
<table><thead><tr><th style="text-align:left">고객번호</th><th style="text-align:left">주문일자</th><th style="text-align:left">주문금액</th><th style="text-align:left">주문합계금액</th></tr></thead><tbody><tr><td style="text-align:left">1</td><td style="text-align:left">20190501</td><td style="text-align:left">20000</td><td style="text-align:left">20000</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">20190523</td><td style="text-align:left">5000</td><td style="text-align:left">25000</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">20200311</td><td style="text-align:left">25000</td><td style="text-align:left">50000</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">20200715</td><td style="text-align:left">10000</td><td style="text-align:left">60000</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">20191208</td><td style="text-align:left">7000</td><td style="text-align:left">7000</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">20200428</td><td style="text-align:left">6000</td><td style="text-align:left">13000</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">20200527</td><td style="text-align:left">17000</td><td style="text-align:left">30000</td></tr></tbody></table>
<p>위의 표에서 확인할 수 있듯이 두번째 행인 주문일자 <code>20190523</code>행에서는 <code>20,000 + 5,000 = 25,000</code> 으로 주문합계금액이 집계되는 것을 볼 수 있다.
그 아래의 행도 마찬가지이다.
이해는 가지만 굳이 이렇게 셀프조인까지 사용하면서 누적값을 구해야 하는 걸까? 조금 더 그럴듯하게 작성할 수는 없을까?
답은 <code>윈도우 함수</code>에 있다.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    고객번호</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 주문일자</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">SUM</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">주문금액</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">OVER</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> 고객번호 </span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> 고객번호</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> 주문일자</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">ROWS</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">BETWEEN</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">UNBOUNDED</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">PRECEDING</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">CURRENT</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">ROW</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> 주문합계금액</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> 주문</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>연습하자.</p>
<p>(SQLD 핵심노트, 디비안, p74~75)</p>]]></content>
        <author>
            <name>yeogoo</name>
            <uri>https://yeegoo.github.io</uri>
        </author>
        <category label="sql" term="sql"/>
        <category label="sqld" term="sqld"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[giscus 항상 보이게 하기]]></title>
        <id>https://yeogoo.github.io/en/blog/giscus 항상 보이게 하기</id>
        <link href="https://yeogoo.github.io/en/blog/giscus 항상 보이게 하기"/>
        <updated>2023-12-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[아래 스크린샷 처럼 initial 화면에서는 giscus가 보이지 않고 Load를 해야 보이는 경우가 있다.]]></summary>
        <content type="html"><![CDATA[<p>아래 스크린샷 처럼 initial 화면에서는 giscus가 보이지 않고 Load를 해야 보이는 경우가 있다.
<img decoding="async" loading="lazy" src="https://github.com/yjystyle/yjystyle.github.io/assets/48542008/59cf7feb-d18f-40f2-9f90-ea3e898da351" alt="image" class="img_ev3q"></p>
<p><code>components/Comments.tsx</code> 에서 <code>useState(true)</code>로 변경해주면 된다.</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Comments</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> slug </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> </span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> </span><span class="token parameter literal-property property" style="color:#36acaa">slug</span><span class="token parameter operator" style="color:#393A34">:</span><span class="token parameter"> string </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">loadComments</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setLoadComments</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">!</span><span class="token plain">loadComments </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">button onClick</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">setLoadComments</span><span class="token punctuation" style="color:#393A34">(</span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">Load</span><span class="token plain"> </span><span class="token maybe-class-name">Comments</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">button</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">siteMetadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">comments</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> loadComments </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">CommentsComponent</span><span class="token plain"> commentsConfig</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">siteMetadata</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">comments</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> slug</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">slug</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>]]></content>
        <author>
            <name>yeogoo</name>
            <uri>https://yeegoo.github.io</uri>
        </author>
        <category label="tips" term="tips"/>
    </entry>
</feed>